"use strict";(self.webpackChunkastral_guides=self.webpackChunkastral_guides||[]).push([[1056],{5956:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>u,frontMatter:()=>o,metadata:()=>t,toc:()=>c});var s=r(7624),i=r(2172);const o={sidebar_position:8},d="Route Guards. \u0414\u043e\u0441\u0442\u0443\u043f\u044b \u043a \u0440\u0443\u0442\u0430\u043c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f",t={id:"permissions/routes",title:"Route Guards. \u0414\u043e\u0441\u0442\u0443\u043f\u044b \u043a \u0440\u0443\u0442\u0430\u043c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f",description:"Route Guard - \u044d\u0442\u043e react-\u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442, \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0449\u0438\u0439 \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f\u043e\u043c \u043a \u0440\u0443\u0442\u0443 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f.",source:"@site/docs/permissions/routes.md",sourceDirName:"permissions",slug:"/permissions/routes",permalink:"/guides/docs/permissions/routes",draft:!1,unlisted:!1,editUrl:"https://github.com/kaluga-astral/guides/tree/main/docs/docs/permissions/routes.md",tags:[],version:"current",sidebarPosition:8,frontMatter:{sidebar_position:8},sidebar:"tutorialSidebar",previous:{title:"\u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u0434\u043b\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u043e\u0432",permalink:"/guides/docs/permissions/preparingData"},next:{title:"\u041f\u0440\u0438\u043d\u0446\u0438\u043f\u044b \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u043e\u0432",permalink:"/guides/docs/permissions/testing"}},a={},c=[{value:"\u041c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435",id:"\u043c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435",level:2},{value:"Guard \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0439 page",id:"guard-\u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f-\u0434\u043b\u044f-\u043a\u0430\u0436\u0434\u043e\u0439-page",level:2},{value:"\u041f\u0440\u0438\u043c\u0435\u0440",id:"\u043f\u0440\u0438\u043c\u0435\u0440",level:3},{value:"\u0412\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b",id:"\u0432\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0435-\u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b",level:3},{value:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 Route Guard",id:"\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435-route-guard",level:2},{value:"\u041f\u0440\u0438\u043c\u0435\u0440",id:"\u043f\u0440\u0438\u043c\u0435\u0440-1",level:3},{value:"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0434\u0435\u0444\u043e\u043b\u0442\u043d\u044b\u0445 \u043f\u0440\u0438\u0447\u0438\u043d \u043e\u0442\u043a\u0430\u0437\u0430 \u0432 \u0434\u043e\u0441\u0442\u0443\u043f\u0435",id:"\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430-\u0434\u0435\u0444\u043e\u043b\u0442\u043d\u044b\u0445-\u043f\u0440\u0438\u0447\u0438\u043d-\u043e\u0442\u043a\u0430\u0437\u0430-\u0432-\u0434\u043e\u0441\u0442\u0443\u043f\u0435",level:2},{value:"\u041f\u0440\u0438\u043c\u0435\u0440",id:"\u043f\u0440\u0438\u043c\u0435\u0440-2",level:3}];function l(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.M)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"route-guards-\u0434\u043e\u0441\u0442\u0443\u043f\u044b-\u043a-\u0440\u0443\u0442\u0430\u043c-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f",children:"Route Guards. \u0414\u043e\u0441\u0442\u0443\u043f\u044b \u043a \u0440\u0443\u0442\u0430\u043c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Route Guard"})," - \u044d\u0442\u043e react-\u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442, \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0449\u0438\u0439 \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f\u043e\u043c \u043a \u0440\u0443\u0442\u0443 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f."]}),"\n",(0,s.jsx)(n.h2,{id:"\u043c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435",children:"\u041c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435"}),"\n",(0,s.jsxs)(n.p,{children:["\u0412\u0441\u0435 Route Guards \u0445\u0440\u0430\u043d\u044f\u0442\u0441\u044f \u0432 ",(0,s.jsx)(n.code,{children:"modules/permissions/features/routeGuards"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"\u251c\u2500\u2500 modules/\n|    \u251c\u2500\u2500 permissions/\n|    |    \u251c\u2500\u2500 features/\n|    |    |    \u251c\u2500\u2500 routesGuards/\n|    |    |    |    \u251c\u2500\u2500 AdminRouteGuard/\n|    |    |    |    \u251c\u2500\u2500 ReadingBookRouteGuard/\n|    |    |    |    \u2514\u2500\u2500 index.ts\n|    |    |    \u2514\u2500\u2500 index.ts\n|    |    \u2514\u2500\u2500 index.ts\n"})}),"\n",(0,s.jsx)(n.h2,{id:"guard-\u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f-\u0434\u043b\u044f-\u043a\u0430\u0436\u0434\u043e\u0439-page",children:"Guard \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0439 page"}),"\n",(0,s.jsx)(n.p,{children:"Route Guard \u0434\u043e\u043b\u0436\u0435\u043d \u0432\u044b\u0437\u044b\u0432\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u043a\u0430\u0436\u0434\u043e\u0439 page, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0437\u0430\u0449\u0438\u0449\u0435\u043d\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u0430\u043c\u0438."}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u041c\u043e\u0442\u0438\u0432\u0430\u0446\u0438\u044f"}),"\n\u0412\u044b\u0437\u043e\u0432 Route Guard \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e page \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0434\u043e\u0441\u0442\u0438\u0447\u044c \u043f\u0440\u043e\u0441\u0442\u043e\u0442\u044b \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438. \u041f\u0440\u0438 \u0438\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u0438 pages \u0441\u0440\u0430\u0437\u0443 \u0432\u0438\u0434\u043d\u0430 \u0441\u0432\u044f\u0437\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0438 \u0434\u043e\u0441\u0442\u0443\u043f\u043e\u0432."]}),"\n",(0,s.jsx)(n.p,{children:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u0441 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435\u043c \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0440\u0443\u0442\u043e\u0432 \u0432 \u043c\u043e\u0434\u0443\u043b\u0435 permissions \u0437\u043d\u0430\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0443\u0441\u043b\u043e\u0436\u043d\u044f\u0435\u0442 \u043f\u043e\u043d\u0438\u043c\u0430\u043d\u0438\u0435 \u043a\u043e\u0434\u0430 \u0438 \u043f\u0440\u043e\u0441\u0442\u043e\u0442\u0443 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u0430."}),"\n",(0,s.jsx)(n.h3,{id:"\u043f\u0440\u0438\u043c\u0435\u0440",children:"\u041f\u0440\u0438\u043c\u0435\u0440"}),"\n",(0,s.jsx)(n.p,{children:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043a\u0440\u044b\u0442\u044c pages:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"admin/createBook"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"book/reading"})}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"\u251c\u2500\u2500 application/\n|    \u251c\u2500\u2500 pages/\n|    |    \u251c\u2500\u2500 admin/\n|    |    |    \u251c\u2500\u2500 createBook.tsx\n|    |    \u251c\u2500\u2500 book/\n|    |    |    \u251c\u2500\u2500 reading.tsx\n\u251c\u2500\u2500 modules/\n|    \u251c\u2500\u2500 permissions/\n|    |    \u251c\u2500\u2500 features/\n|    |    |    \u251c\u2500\u2500 routesGuards/\n|    |    |    |    \u251c\u2500\u2500 AdminRouteGuard/\n|    |    |    |    \u251c\u2500\u2500 ReadingBookRouteGuard/\n|    |    |    |    \u2514\u2500\u2500 index.ts\n|    |    |    \u2514\u2500\u2500 index.ts\n|    |    \u2514\u2500\u2500 index.ts\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"application/pages/admin/createBook.tsx"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"import { CreationBookScreen } from '@example/screens';\nimport { AdminRouteGuard } from '@example/modules/permissions';\n\nconst CreateBookPage = () => {\n  return (\n    <AdminRouteGuard>\n      <CreationBookScreen />\n    </AdminRouteGuard>\n  );\n};\n\nexport default CreateBookPage;\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"application/pages/book/reading.tsx"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"import { NotFoundScreen, ReadingBookScreen } from '@example/screens';\nimport { useRouterParams } from '@example/shared';\nimport { ReadingBookRouteGuard } from '@example/modules/permissions';\n\nconst ReadingBookPage = () => {\n  const { id } = useRouterParams();\n\n  if (!id) {\n    return <NotFoundScreen title=\"\u041a\u043d\u0438\u0433\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430\" />;\n  }\n\n  return (\n    <ReadingBookRouteGuard id={id}>\n      <ReadingBookScreen id={id} />\n    </ReadingBookRouteGuard>\n  );\n};\n\nexport default ReadingBookPage;\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u0432\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0435-\u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b",children:"\u0412\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b"}),"\n",(0,s.jsx)(n.p,{children:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 Route Guard \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0441\u043e\u0437\u0434\u0430\u0435\u0442 \u043d\u0435\u0431\u043e\u043b\u044c\u0448\u043e\u0439 overhead:\n\u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0439 \u0432\u043b\u043e\u0436\u0435\u043d\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u044b\u0437\u044b\u0432\u0430\u0442\u044c Route Guard, \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0437\u0430\u043a\u0440\u044b\u0442\u044c \u0432\u0441\u044e \u0432\u043b\u043e\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u044c \u043d\u0435\u0442."}),"\n",(0,s.jsx)(n.p,{children:"\u0414\u0430\u043d\u043d\u043e\u0435 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0435 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442\u0441\u044f \u0432 \u0443\u0433\u043e\u0434\u0443 \u0431\u043e\u043b\u0435\u0435 \u043f\u0440\u043e\u0441\u0442\u043e\u0439 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438."}),"\n",(0,s.jsx)(n.h2,{id:"\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435-route-guard",children:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 Route Guard"}),"\n",(0,s.jsxs)(n.p,{children:["\u0412 ",(0,s.jsx)(n.code,{children:"modules/permissions/features/routeGuards"})," \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c Route Guard, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u0437\u0430\u043a\u0440\u044b\u0432\u0430\u0442\u044c \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0438\u043b\u0438 \u0440\u044f\u0434 \u0441\u0442\u0440\u0430\u043d\u0438\u0446. \u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u0439."]}),"\n",(0,s.jsxs)(n.p,{children:["\u0412\u0441\u0435 Route Guard \u0441\u043e\u0437\u0434\u0430\u044e\u0442\u0441\u044f \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u0430\u0431\u0441\u0442\u0440\u0430\u043a\u0442\u043d\u043e\u0433\u043e ",(0,s.jsx)(n.code,{children:"PermissionRouteGuard"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"PermissionRouteGuard"})," - \u0444\u0430\u0441\u0430\u0434, \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0449\u0438\u0439 \u0443\u043f\u0440\u043e\u0441\u0442\u0438\u0442\u044c \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044e Route Guards \u0438 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u044b \u043e\u0442\u043a\u0430\u0437\u0430."]}),"\n",(0,s.jsx)(n.h3,{id:"\u043f\u0440\u0438\u043c\u0435\u0440-1",children:"\u041f\u0440\u0438\u043c\u0435\u0440"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u0422\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f"})}),"\n",(0,s.jsxs)(n.p,{children:["\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043a\u043d\u0438\u0433\u0438 (",(0,s.jsx)(n.code,{children:"admin/createBook"}),") \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u0442\u043e\u043b\u044c\u043a\u043e \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0443."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f"})}),"\n",(0,s.jsxs)(n.p,{children:["\u0412 ",(0,s.jsx)(n.code,{children:"AdministrationPolicy"})," \u0443\u0436\u0435 \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d permissions - ",(0,s.jsx)(n.code,{children:"administrationActions"}),", \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u043c\u043e\u0436\u043d\u043e \u0434\u0435\u043b\u0430\u0442\u044c \u0432\u044b\u0432\u043e\u0434 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u043b\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043a\u043d\u0438\u0433\u0438."]}),"\n",(0,s.jsxs)(n.p,{children:["\u041d\u0430 \u043c\u043e\u043c\u0435\u043d\u0442 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438, \u0432\u0441\u0435 \u0432\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0435 \u0440\u0443\u0442\u044b \u0432 ",(0,s.jsx)(n.code,{children:"/admin"})," \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0442 \u043f\u043e\u0434 ",(0,s.jsx)(n.code,{children:"administrationActions"})," permission, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0440\u0435\u0430\u043b\u0438\u0437\u0443\u0435\u043c \u0435\u0434\u0438\u043d\u044b\u0439 \u0434\u043b\u044f \u0432\u0441\u0435\u0445 ",(0,s.jsx)(n.code,{children:"/admin/"})," Guard:"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"modules/permissions/features/routeGuards/AdminRouteGuard"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"import type { ReactNode } from 'react';\nimport { observer } from 'mobx-react-lite';\n\nimport { PageLayout, Placeholder } from '@example/shared';\n\nimport { PermissionDenialReason, permissionsStore } from '../../../domain';\nimport { PermissionGuard } from '../../PermissionGuard';\n\ntype Props = {\n  children: ReactNode;\n};\n\nexport const AdminRouteGuard = observer(({ children }: Props) => {\n  return (\n    <PermissionGuard\n      permission={permissionsStore.administration.administrationActions}\n      denialSwitch={{\n        [PermissionDenialReason.NoAdmin]: (\n          <PageLayout\n            header={{ title: '\u041f\u0430\u043d\u0435\u043b\u044c \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430' }}\n            content={{\n              children: (\n                <Placeholder title=\"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u043e\u0432\" />\n              ),\n            }}\n          />\n        ),\n      }}\n    >\n      {children}\n    </PermissionGuard>\n  );\n});\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"denialSwitch"})," \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u043f\u0440\u0438\u0447\u0438\u043d\u044b \u043e\u0442\u043a\u0430\u0437\u0430. \u0412 \u0434\u0430\u043d\u043d\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435, \u0435\u0441\u043b\u0438 \u043f\u0440\u0438\u0447\u0438\u043d\u0430 \u043e\u0442\u043a\u0430\u0437\u0430 ",(0,s.jsx)(n.code,{children:"'no-admin'"}),", \u0442\u043e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439 Placeholder."]}),"\n",(0,s.jsx)(n.p,{children:"\u0417\u0430\u043a\u0440\u044b\u0432\u0430\u0435\u0442 \u0442\u0440\u0435\u0431\u0443\u0435\u043c\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"application/pages/admin/createBook.tsx"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"import { CreationBookScreen } from '@example/screens';\nimport { AdminRouteGuard } from '@example/modules/permissions';\n\nconst CreateBookPage = () => {\n  return (\n    <AdminRouteGuard>\n      <CreationBookScreen />\n    </AdminRouteGuard>\n  );\n};\n\nexport default CreateBookPage;\n"})}),"\n",(0,s.jsx)(n.h2,{id:"\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430-\u0434\u0435\u0444\u043e\u043b\u0442\u043d\u044b\u0445-\u043f\u0440\u0438\u0447\u0438\u043d-\u043e\u0442\u043a\u0430\u0437\u0430-\u0432-\u0434\u043e\u0441\u0442\u0443\u043f\u0435",children:"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0434\u0435\u0444\u043e\u043b\u0442\u043d\u044b\u0445 \u043f\u0440\u0438\u0447\u0438\u043d \u043e\u0442\u043a\u0430\u0437\u0430 \u0432 \u0434\u043e\u0441\u0442\u0443\u043f\u0435"}),"\n",(0,s.jsxs)(n.p,{children:["\u0412 ",(0,s.jsx)(n.code,{children:"PermissionRouteGuard"})," \u043c\u043e\u0436\u043d\u043e \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0434\u0435\u0444\u043e\u043b\u0442\u043d\u044b\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u044b \u0434\u043b\u044f \u043e\u0442\u043a\u0430\u0437\u0430."]}),"\n",(0,s.jsx)(n.h3,{id:"\u043f\u0440\u0438\u043c\u0435\u0440-2",children:"\u041f\u0440\u0438\u043c\u0435\u0440"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"import { Placeholder } from '@example/shared';\n\nimport type { Permission } from '../../domain';\nimport { PermissionDenialReason } from '../../domain';\n\ntype Props = {\n  permission: Permission;\n  /**\n   * \u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043e\u0442\u0440\u0435\u043d\u0434\u0435\u0440\u0438\u0442\u044c \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 \u0434\u043b\u044f \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0439 \u043f\u0440\u0438\u0447\u0438\u043d\u044b \u043e\u0442\u043a\u0430\u0437\u0430 \u0432 \u0434\u043e\u0441\u0442\u0443\u043f\u0435\n   */\n  denialSwitch: Record<string, ReactNode>;\n  children: ReactNode;\n};\n\n/**\n * \u0417\u0430\u043a\u0440\u044b\u0432\u0430\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f \u043a children, \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u0434\u0435\u0444\u043e\u043b\u0442\u043d\u044b\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u044b \u043e\u0442\u043a\u0430\u0437\u0430\n */\nexport const PermissionGuard = ({\n  permission,\n  denialSwitch,\n  children,\n}: Props) => {\n  if (permission.isAllowed) {\n    return children;\n  }\n\n  if (denialSwitch[permission.reason]) {\n    return denialSwitch[permission.reason];\n  }\n\n  if (permission.reason === PermissionDenialReason.NoPayAccount) {\n    return <Placeholder title=\"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043e\u043f\u043b\u0430\u0442\u0438\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442\" />;\n  }\n\n  if (permission.reason === PermissionDenialReason.MissingUserAge) {\n    return <Placeholder title=\"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0434\u0430\u0442\u0443 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f \u0432 \u041b\u041a\" />;\n  }\n\n  return <Placeholder title=\"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u0430\" />;\n};\n"})})]})}function u(e={}){const{wrapper:n}={...(0,i.M)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},2172:(e,n,r)=>{r.d(n,{I:()=>t,M:()=>d});var s=r(1504);const i={},o=s.createContext(i);function d(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);